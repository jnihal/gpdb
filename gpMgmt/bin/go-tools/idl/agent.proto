syntax = "proto3";

package idl;
import "hub.proto";

option go_package= "../idl";

service Agent {
    rpc Stop(StopAgentRequest) returns (StopAgentReply) {}
    rpc Status(StatusAgentRequest) returns (StatusAgentReply) {}
    rpc MakeSegment(MakeSegmentRequest) returns(MakeSegmentReply) {}
    rpc ValidateHostEnv(ValidateHostEnvRequest) returns(ValidateHostEnvReply) {}
}

message StopAgentRequest {}

message StopAgentReply {}

message StatusAgentRequest {}

message StatusAgentReply {
    string status = 1;
    string uptime = 2;
    uint32 pid = 3;
}

message ValidateHostEnvRequest{
    repeated string DirectoryList = 1;
}

message ValidateHostEnvReply {}

message MakeSegmentRequest {
    Segment segment = 1;
    Locale locale = 2 ;
    string Encoding = 3;
    map<string, string> SegConfig = 4;
    repeated string IPList = 5;
}

message MakeSegmentReply {
}

